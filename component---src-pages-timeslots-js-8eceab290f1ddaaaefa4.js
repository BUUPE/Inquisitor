(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"3Z9Z":function(e,t,n){"use strict";var r=n("k1TG"),a=n("8o2o"),l=n("TSYQ"),o=n.n(l),i=n("q1tI"),c=n.n(i),s=n("vUet"),u=["xl","lg","md","sm","xs"],f=c.a.forwardRef((function(e,t){var n=e.bsPrefix,l=e.className,i=e.noGutters,f=e.as,m=void 0===f?"div":f,d=Object(a.a)(e,["bsPrefix","className","noGutters","as"]),p=Object(s.a)(n,"row"),b=p+"-cols",v=[];return u.forEach((function(e){var t,n=d[e];delete d[e];var r="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"==typeof n?n.cols:n)&&v.push(""+b+r+"-"+t)})),c.a.createElement(m,Object(r.a)({ref:t},d,{className:o.a.apply(void 0,[l,p,i&&"no-gutters"].concat(v))}))}));f.displayName="Row",f.defaultProps={noGutters:!1},t.a=f},XIxq:function(e,t,n){"use strict";n.r(t);var r=n("/S4K"),a=n("q1tI"),l=n.n(a),o=n("eHHv"),i=n("3Z9Z"),c=n("CCtv"),s=n("puyr"),u=n("7oih"),f=n("kT3S"),m=n("JI6e"),d=function(e){var t=e.date,n=e.timeslotLength,r=Object(a.useState)({}),o=r[0],i=r[1],c=Array.from(Array(56),(function(e,t){return 15*t})),s=n/15,u=function(e){var n=8+Math.floor(e/60),r=e%60;return new Date(t.getFullYear(),t.getMonth(),t.getDate(),n,r)},f=function(e){var t=e.getHours()%12;return 0===t&&(t=12),(t=t.toString().padStart(2,"0"))+":"+e.getMinutes().toString().padStart(2,"0")+" "+(e.getHours()>=12?"PM":"AM")},d=function(e,t){if(o.hasOwnProperty(e)){for(var r=Object.assign({},o),a=r[e][0],l=r[e][1],u=a;u<=l;u+=15)delete r[u];return i(r)}if(function(e,t){if(t+s>c.length)return!1;for(var r=e+n,a=e;a<r;a+=15)if(o.hasOwnProperty(a))return!1;return!0}(e,t)){for(var f=Object.assign({},o),m=e+n-15,d=e;d<=m;d+=15)f[d]=[e,m];return i(f)}console.error("cant pick that!")};return l.a.createElement(m.a,null,l.a.createElement("strong",null,t.toDateString()),c.map((function(e,t){var n=function(e){var t=o.hasOwnProperty(e);return{isSelected:t,isTop:t&&e===o[e][0],isMiddle:t&&!o[e].includes(e),isBottom:t&&e===o[e][1]}},r=function(e){var t=n(e),r=t.isTop,a=t.isMiddle,l=t.isBottom;return Object.assign({},{padding:10,cursor:"pointer",display:"flex",justifyContent:"space-between"},{borderLeft:"1px solid black",borderRight:"1px solid black",borderTop:l||a?"none":"1px solid black",borderBottom:r||a?"none":"1px solid black",background:o.hasOwnProperty(e)?"green":"white"})},a=n(e),i=a.isSelected,c=a.isTop,s=a.isMiddle,m=a.isBottom,p=function(n){var a=n.children;return l.a.createElement("div",{style:Object.assign({},r(e)),onClick:function(){return d(e,t)}},a)};if(i){if(c)return l.a.createElement(p,{key:e},l.a.createElement("span",null,f(u(e))));if(s)return l.a.createElement(p,{key:e},"-");if(m)return l.a.createElement(p,{key:e},l.a.createElement("span",null,f(u(e+15))))}return l.a.createElement("div",{style:Object.assign({},r(e)),key:e,onClick:function(){return d(e,t)}},l.a.createElement("span",null,f(u(e))),l.a.createElement("span",null,"-"),l.a.createElement("span",null,f(u(e+15))))})))},p=n("lEpx"),b=Object(o.a)(Object(c.e)(c.c),s.c)((function(e){var t=e.firebase,n=Object(a.useState)(null),o=n[0],s=n[1],u=Object(a.useState)(!0),m=u[0],b=u[1],v=Object(a.useState)(null),E=v[0],g=v[1],y=Object(a.useContext)(c.a);if(Object(a.useEffect)((function(){var e=function(){var e=Object(r.a)((function*(){var e=yield t.generalSettings().get();if(e.exists){var n=e.data();n.timeslotDays=n.timeslotDays.map((function(e){return e.toDate()})),s(n)}else g("Failed to load timeslots!");b(!1)}));return function(){return e.apply(this,arguments)}}();t&&e()}),[t]),m)return l.a.createElement(f.a,null);if(E)return l.a.createElement(p.b,{flexdirection:"column"},l.a.createElement("h1",null,E));var h=o.timeslotsOpen,O=o.timeslotsOpenForApplicants,j=o.timeslotLength,x=o.timeslotDays;return h?y.roles.applicant&&!O?l.a.createElement(p.b,{flexdirection:"column"},l.a.createElement("h1",null,"Timeslot selection isn't open yet!")):l.a.createElement(p.b,{flexdirection:"column"},l.a.createElement("h1",null,"Select Timeslots"),l.a.createElement(i.a,null,x.map((function(e,t){return l.a.createElement(d,{key:t,date:e,timeslotLength:j})})))):l.a.createElement(p.b,{flexdirection:"column"},l.a.createElement("h1",null,"Timeslot selection is closed!"))}));t.default=function(e){var t=e.location;return l.a.createElement(u.a,null,l.a.createElement(b,{location:t}))}}}]);
//# sourceMappingURL=component---src-pages-timeslots-js-8eceab290f1ddaaaefa4.js.map